<mxfile host="app.diagrams.net" modified="2024-05-19T03:31:45.680Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36" etag="JlbamYZfutgvyjIZlhy0" version="24.4.4" type="github">
  <diagram name="第 1 页" id="_f4ZFRkLMGChsy30Tn3_">
    <mxGraphModel dx="2049" dy="1054" grid="0" gridSize="10" guides="0" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="3300" pageHeight="4681" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="jh_wQ0nXtPfkYE8gIp9S-1" value="&lt;li&gt;活动配置，activity：提供活动的基本配置&lt;/li&gt;&lt;br/&gt;&lt;li&gt;策略配置，strategy：用于配置抽奖策略，概率、玩法、库存、奖品&lt;/li&gt;&lt;br/&gt;&lt;li&gt;策略明细，strategy_detail：抽奖策略的具体明细配置&lt;/li&gt;&lt;br/&gt;&lt;li&gt;奖品配置，award：用于配置具体可以得到的奖品&lt;/li&gt;&lt;br/&gt;&lt;li&gt;用户参与活动记录表，user_take_activity：每个用户参与活动都会记录下他的参与信息，时间、次数&lt;/li&gt;&lt;br/&gt;&lt;li&gt;用户活动参与次数表，user_take_activity_count：用于记录当前参与了多少次&lt;/li&gt;&lt;br/&gt;&lt;li&gt;用户策略计算结果表，user_strategy_export_001~004：最终策略结果的一个记录，也就是奖品中奖信息的内容&lt;/li&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=#e1d5e7;fontSize=15;" vertex="1" parent="1">
          <mxGeometry x="443" y="195" width="764" height="238" as="geometry" />
        </mxCell>
        <mxCell id="jh_wQ0nXtPfkYE8gIp9S-2" value="" style="group;fillColor=#fff2cc;strokeColor=none;" vertex="1" connectable="0" parent="1">
          <mxGeometry x="912" y="697" width="252" height="175" as="geometry" />
        </mxCell>
        <mxCell id="jh_wQ0nXtPfkYE8gIp9S-3" value="" style="rounded=1;whiteSpace=wrap;html=1;fontSize=15;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="jh_wQ0nXtPfkYE8gIp9S-2">
          <mxGeometry width="252" height="175" as="geometry" />
        </mxCell>
        <mxCell id="jh_wQ0nXtPfkYE8gIp9S-4" value="award（奖品配置表）" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#d6b656;fillColor=#fff2cc;fontSize=15;" vertex="1" parent="jh_wQ0nXtPfkYE8gIp9S-2">
          <mxGeometry x="46" y="9" width="156" height="22" as="geometry" />
        </mxCell>
        <mxCell id="jh_wQ0nXtPfkYE8gIp9S-5" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span&gt;id&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;自增ID&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span&gt;awardId&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;奖品ID&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span&gt;awardType&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;奖品类型&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span&gt;awardCount&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;奖品数量&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span&gt;awardName&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;奖品名称&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span&gt;awardContent&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;奖品内容&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#d6b656;fillColor=#fff2cc;fontSize=15;" vertex="1" parent="jh_wQ0nXtPfkYE8gIp9S-2">
          <mxGeometry x="22" y="42" width="210" height="112" as="geometry" />
        </mxCell>
        <mxCell id="jh_wQ0nXtPfkYE8gIp9S-6" value="" style="group;fillColor=#f5f5f5;fontColor=#333333;strokeColor=none;" vertex="1" connectable="0" parent="1">
          <mxGeometry x="923" y="998" width="225" height="157" as="geometry" />
        </mxCell>
        <mxCell id="jh_wQ0nXtPfkYE8gIp9S-7" value="" style="rounded=1;whiteSpace=wrap;html=1;fontSize=15;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="jh_wQ0nXtPfkYE8gIp9S-6">
          <mxGeometry width="225" height="157" as="geometry" />
        </mxCell>
        <mxCell id="jh_wQ0nXtPfkYE8gIp9S-8" value="strategy_detail（策略明细）" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#666666;fillColor=#f5f5f5;fontSize=15;fontColor=#333333;" vertex="1" parent="jh_wQ0nXtPfkYE8gIp9S-6">
          <mxGeometry x="16" y="10" width="198" height="22" as="geometry" />
        </mxCell>
        <mxCell id="jh_wQ0nXtPfkYE8gIp9S-9" value="id&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;自增ID&lt;br&gt;strategyId&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;策略ID&lt;br&gt;awardId&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;奖品ID&lt;br&gt;awardCount&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;奖品数量&lt;br&gt;awardRate&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;中奖概率" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#666666;fillColor=#f5f5f5;fontSize=15;fontColor=#333333;" vertex="1" parent="jh_wQ0nXtPfkYE8gIp9S-6">
          <mxGeometry x="16" y="50" width="203" height="94" as="geometry" />
        </mxCell>
        <mxCell id="jh_wQ0nXtPfkYE8gIp9S-10" value="" style="group;strokeColor=none;" vertex="1" connectable="0" parent="1">
          <mxGeometry x="488" y="688" width="272" height="234" as="geometry" />
        </mxCell>
        <mxCell id="jh_wQ0nXtPfkYE8gIp9S-11" value="" style="group;fillColor=#d5e8d4;strokeColor=#82b366;container=0;" vertex="1" connectable="0" parent="jh_wQ0nXtPfkYE8gIp9S-10">
          <mxGeometry width="272" height="234" as="geometry" />
        </mxCell>
        <mxCell id="jh_wQ0nXtPfkYE8gIp9S-12" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="jh_wQ0nXtPfkYE8gIp9S-10">
          <mxGeometry width="269" height="234" as="geometry" />
        </mxCell>
        <mxCell id="jh_wQ0nXtPfkYE8gIp9S-13" value="&lt;font style=&quot;font-size: 15px&quot;&gt;activity（活动表）&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#82b366;fillColor=#d5e8d4;" vertex="1" parent="jh_wQ0nXtPfkYE8gIp9S-10">
          <mxGeometry x="59" y="13" width="131" height="19" as="geometry" />
        </mxCell>
        <mxCell id="jh_wQ0nXtPfkYE8gIp9S-14" value="id&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;自增ID&lt;br&gt;activity_id&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;活动ID&lt;br&gt;activity_name&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;活动名称&lt;br&gt;activity_desc&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;活动描述&lt;br&gt;begin_date_time&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;开始时间&lt;br&gt;end_date_time&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;结束时间&lt;br&gt;stock_count&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;库存&lt;br&gt;take_count&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;每人可参与次数&lt;br&gt;state&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;活动状态&lt;br&gt;creator&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;创建人&lt;br&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#82b366;fillColor=#d5e8d4;fontSize=15;" vertex="1" parent="jh_wQ0nXtPfkYE8gIp9S-10">
          <mxGeometry x="12" y="40" width="248" height="184" as="geometry" />
        </mxCell>
        <mxCell id="jh_wQ0nXtPfkYE8gIp9S-15" value="" style="group;strokeColor=none;" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1364" y="692" width="267" height="207" as="geometry" />
        </mxCell>
        <mxCell id="jh_wQ0nXtPfkYE8gIp9S-16" value="" style="group;fillColor=#dae8fc;strokeColor=#6c8ebf;container=0;" vertex="1" connectable="0" parent="jh_wQ0nXtPfkYE8gIp9S-15">
          <mxGeometry width="267" height="207" as="geometry" />
        </mxCell>
        <mxCell id="jh_wQ0nXtPfkYE8gIp9S-17" value="" style="rounded=1;whiteSpace=wrap;html=1;fontSize=15;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="jh_wQ0nXtPfkYE8gIp9S-15">
          <mxGeometry width="267" height="207" as="geometry" />
        </mxCell>
        <mxCell id="jh_wQ0nXtPfkYE8gIp9S-18" value="stratety（策略配置表）" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#6c8ebf;fillColor=#dae8fc;fontSize=15;" vertex="1" parent="jh_wQ0nXtPfkYE8gIp9S-15">
          <mxGeometry x="41" y="11" width="164" height="22" as="geometry" />
        </mxCell>
        <mxCell id="jh_wQ0nXtPfkYE8gIp9S-19" value="id&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;自增ID&lt;br&gt;strategyId&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;策略ID&lt;br&gt;strategyDesc&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;策略描述&lt;br&gt;strategyMode&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;计算方式&lt;br&gt;grantType&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;发放奖品方式&lt;br&gt;grantDate&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;发放奖品时间&lt;br&gt;extInfo&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;&#x9;&lt;/span&gt;扩展信息" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#6c8ebf;fillColor=#dae8fc;fontSize=15;" vertex="1" parent="jh_wQ0nXtPfkYE8gIp9S-15">
          <mxGeometry x="20" y="48" width="233" height="130" as="geometry" />
        </mxCell>
        <mxCell id="jh_wQ0nXtPfkYE8gIp9S-20" value="" style="group;fillColor=#f8cecc;strokeColor=none;" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1350" y="1071" width="282" height="224" as="geometry" />
        </mxCell>
        <mxCell id="jh_wQ0nXtPfkYE8gIp9S-21" value="" style="rounded=1;whiteSpace=wrap;html=1;fontSize=15;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="jh_wQ0nXtPfkYE8gIp9S-20">
          <mxGeometry width="282" height="224" as="geometry" />
        </mxCell>
        <mxCell id="jh_wQ0nXtPfkYE8gIp9S-22" value="user_take_activity&lt;br&gt;用户参与活动记录表" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#b85450;fillColor=#f8cecc;fontSize=15;" vertex="1" parent="jh_wQ0nXtPfkYE8gIp9S-20">
          <mxGeometry x="69" y="5" width="145" height="40" as="geometry" />
        </mxCell>
        <mxCell id="jh_wQ0nXtPfkYE8gIp9S-23" value="id&lt;br&gt;uId&lt;br&gt;takeId&lt;br&gt;activityId&lt;br&gt;activityName&lt;br&gt;takeDate&lt;br&gt;takeCount&lt;br&gt;uuid" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#b85450;fillColor=#f8cecc;fontSize=15;" vertex="1" parent="jh_wQ0nXtPfkYE8gIp9S-20">
          <mxGeometry x="35" y="48" width="96" height="148" as="geometry" />
        </mxCell>
        <mxCell id="jh_wQ0nXtPfkYE8gIp9S-24" value="" style="group;fillColor=#e1d5e7;strokeColor=none;" vertex="1" connectable="0" parent="1">
          <mxGeometry x="454" y="1055" width="276" height="184" as="geometry" />
        </mxCell>
        <mxCell id="jh_wQ0nXtPfkYE8gIp9S-25" value="" style="rounded=1;whiteSpace=wrap;html=1;fontSize=15;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="jh_wQ0nXtPfkYE8gIp9S-24">
          <mxGeometry width="276" height="184" as="geometry" />
        </mxCell>
        <mxCell id="jh_wQ0nXtPfkYE8gIp9S-26" value="user_take_activity_count&lt;br&gt;(用户活动参与次数表)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#9673a6;fillColor=#e1d5e7;fontSize=15;" vertex="1" parent="jh_wQ0nXtPfkYE8gIp9S-24">
          <mxGeometry x="50.5" y="12" width="175" height="40" as="geometry" />
        </mxCell>
        <mxCell id="jh_wQ0nXtPfkYE8gIp9S-27" value="id&lt;br&gt;uId&lt;br&gt;activityId&lt;br&gt;totalCount&lt;br&gt;leftCount" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=#9673a6;fillColor=#e1d5e7;fontSize=15;" vertex="1" parent="jh_wQ0nXtPfkYE8gIp9S-24">
          <mxGeometry x="36" y="67" width="78" height="94" as="geometry" />
        </mxCell>
        <mxCell id="jh_wQ0nXtPfkYE8gIp9S-28" value="" style="endArrow=classic;html=1;rounded=0;fontSize=15;strokeColor=none;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1358" y="902" as="sourcePoint" />
            <mxPoint x="1150" y="1029.0000000000005" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1230" y="980" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="jh_wQ0nXtPfkYE8gIp9S-29" value="1：N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=15;" vertex="1" parent="1">
          <mxGeometry x="1250" y="962" width="44" height="22" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
